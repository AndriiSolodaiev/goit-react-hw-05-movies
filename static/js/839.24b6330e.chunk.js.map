{"version":3,"file":"static/js/839.24b6330e.chunk.js","mappings":"2LAGaA,EAAY,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,SACrC,OACE,wBACGD,EAAUE,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OACb,yBACE,SAAC,KAAD,CACEC,GAAIJ,EAASK,SAASC,SAAS,UAA3B,UAA0CH,GAA1C,iBAA2DA,GAC/DI,MAAO,CAAEC,KAAMR,GAFjB,SAIGE,KALL,UAAYC,GADC,KAYpB,C,6HCjBKM,EAAU,mCAGhB,aAAO,OAAP,oBAAO,WAAiCC,GAAjC,0FACkBC,EAAAA,EAAAA,GAAM,wBAAD,OACFF,EADE,kBACeC,IAFtC,uBACGE,EADH,EACGA,KADH,kBAIEA,EAAKC,SAJP,kEAFPF,EAAAA,EAAAA,SAAAA,QAAyB,gC,uCCoCzB,EAjCe,WACb,OAAkCG,EAAAA,EAAAA,UAAS,IAA3C,eAAOf,EAAP,KAAkBgB,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMlB,GAAWmB,EAAAA,EAAAA,MACXT,EAAQO,EAAaG,IAAI,UAE/BC,EAAAA,EAAAA,YAAU,WACHX,GDRF,SAAP,kCCWIY,CAAkBZ,GAAOa,MAAK,SAAAX,GAAI,OAAIG,EAAaH,EAAjB,GACnC,GAAE,CAACF,IAWJ,OACE,iCACE,kBAAMc,SAXW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACXD,EAAKE,SAASC,OAAOC,MAAMC,SAC7Bd,EAAgB,CAAER,MAAOiB,EAAKE,SAASC,OAAOC,QAC9CJ,EAAKM,QAER,EAIG,WACE,kBAAOC,KAAK,OAAOC,KAAK,YACxB,mBAAQD,KAAK,SAAb,uBAEDxB,IAAS,SAACZ,EAAA,EAAD,CAAWC,UAAWA,EAAWC,SAAUA,MAG1D,C","sources":["components/MovieList/MovieList.jsx","api/fetchMoviesByName.jsx","pages/Movies.jsx"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport const MovieList = ({ movieList, location }) => {\n  return (\n    <ul>\n      {movieList.map(({ title, id }) => (\n        <li key={`${id}`}>\n          <Link\n            to={location.pathname.includes('movies') ? `${id}` : `movies/${id}`}\n            state={{ from: location }}\n          >\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nMovieList.propTypes = {\n  movieList: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }),\n};\n","import axios from 'axios';\nconst API_KEY = '064f7e3d0569e2adbfaa0d0f4ed21f86';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport async function fetchMoviesByName(query) {\n  const { data } = await axios(\n    `search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return data.results;\n}\n","import { useState, useEffect } from 'react';\nimport { fetchMoviesByName } from 'api/fetchMoviesByName';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { MovieList } from 'components/MovieList/MovieList';\n\nconst Movies = () => {\n  const [movieList, setMovieList] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    fetchMoviesByName(query).then(data => setMovieList(data));\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    if (form.elements.search.value.trim()) {\n      setSearchParams({ query: form.elements.search.value });\n      form.reset();\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"search\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      {query && <MovieList movieList={movieList} location={location} />}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["MovieList","movieList","location","map","title","id","to","pathname","includes","state","from","API_KEY","query","axios","data","results","useState","setMovieList","useSearchParams","searchParams","setSearchParams","useLocation","get","useEffect","fetchMoviesByName","then","onSubmit","e","preventDefault","form","currentTarget","elements","search","value","trim","reset","type","name"],"sourceRoot":""}